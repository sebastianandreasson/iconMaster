{"version":3,"sources":["../../src/selector/focusable.js"],"names":[],"mappings":";;;;;;;;;;;;AAQA,MAAI,QAAQ,YAAA,CAAC;;AAEb,MAAI,QAAQ,YAAA,CAAC;;mBAEE,YAAW;AACxB,QAAI,CAAC,QAAQ,EAAE;AACb,cAAQ,GAAG,4BAAW,CAAC;KACxB;;AAED,QAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;AAChC,aAAO,QAAQ,CAAC;KACjB;;;AAGD,YAAQ,GAAG,EAAE;;QAER,QAAQ,CAAC,aAAa,GAAG,YAAY,GAAG,EAAE,CAAA,AAAC;;QAE3C,QAAQ,CAAC,gBAAgB,GAAG,WAAW,GAAG,EAAE,CAAA,AAAC;;;QAG7C,QAAQ,CAAC,iBAAiB,GAAG,gBAAgB,GAAG,EAAE,CAAA,AAAC;;;OAGpD,UAAU;;OAEV,aAAa;;OAEb,kCAAkC;;OAElC,wBAAwB;;OAExB,SAAS,IACR,QAAQ,CAAC,4BAA4B,GAAG,QAAQ,GAAG,kBAAkB,CAAA,AAAC,IACtE,QAAQ,CAAC,4BAA4B,GAAG,QAAQ,GAAG,kBAAkB,CAAA,AAAC,IACtE,QAAQ,CAAC,eAAe,GAAG,UAAU,GAAG,EAAE,CAAA,AAAC;;OAE5C,aAAa;;OAEb,mBAAmB,CAAC;;;AAGxB,QAAI,QAAQ,CAAC,+BAA+B,EAAE;AAC5C,cAAQ,IAAI,SAAS,GAAG,QAAQ,CAAC,+BAA+B,GAAG,GAAG,GAClE,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,+BAA+B,GAAG,GAAG,CAAC,CAAC;KACnH;;AAED,WAAO,QAAQ,CAAC;GACjB","file":"focusable.js","sourcesContent":["// NOTE: this selector MUST *never* be used directly,\n// always go through query/focusable or is/focusable.js\n// there are too many edge cases that they could be covered in\n// a simple CSS selectorâ€¦\n\nimport '../prototype/svgelement.prototype.focus';\n\nimport _supports from './focusable.supports';\nlet supports;\n\nlet selector;\n\nexport default function() {\n  if (!supports) {\n    supports = _supports();\n  }\n\n  if (typeof selector === 'string') {\n    return selector;\n  }\n\n  // http://www.w3.org/TR/html5/editing.html#sequential-focus-navigation-and-the-tabindex-attribute\n  selector = ''\n    // IE11 supports.can focus <table> and <td>\n    + (supports.canFocusTable ? 'table, td,' : '')\n    // IE11 supports.can focus <fieldset>\n    + (supports.canFocusFieldset ? 'fieldset,' : '')\n    // Namespace problems of [xlink:href] explained in http://stackoverflow.com/a/23047888/515124\n    // Firefox supports.cannot focus <svg> child elements from script\n    + (supports.canFocusSvgMethod ? 'svg a[*|href],' : '')\n    // may behave as 'svg, svg *,' in chrome as *every* svg element with a focus event listener is focusable\n    // navigational elements\n    + 'a[href],'\n    // validity determined by is/valid-area.js\n    + 'area[href],'\n    // validity determined by is/disabled.js\n    + 'input, select, textarea, button,'\n    // browsing context containers\n    + 'iframe, object, embed,'\n    // interactive content\n    + 'keygen,'\n    + (supports.canFocusAudioWithoutControls ? 'audio,' : 'audio[controls],')\n    + (supports.canFocusVideoWithoutControls ? 'video,' : 'video[controls],')\n    + (supports.canFocusSummary ? 'summary,' : '')\n    // validity determined by is/valid-tabindex.js\n    + '[tabindex],'\n    // editing hosts\n    + '[contenteditable]';\n\n  // where ShadowDOM is supported, we also want the shadowed focusable elements (via \">>>\" or \"/deep/\")\n  if (supports.cssShadowPiercingDeepCombinator) {\n    selector += ', html ' + supports.cssShadowPiercingDeepCombinator + ' '\n      + selector.replace(/\\s*,\\s*/g, ',').split(',').join(', html ' + supports.cssShadowPiercingDeepCombinator + ' ');\n  }\n\n  return selector;\n}\n"]}